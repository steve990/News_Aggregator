(window.webpackJsonpnews=window.webpackJsonpnews||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/newspaper.b9742b82.png"},20:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/crow2.2d02c50b.jpg"},26:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),s=a.n(l),c=(a(20),a(3)),i=a(4),o=a(6),u=a(5),m=a(9),h=a(7),p=a(12),g=a(11),b=a(16),f=a.n(b),E=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"headerMask"},r.a.createElement("span",null,r.a.createElement("img",{src:f.a,alt:"Movie Reels"}),r.a.createElement("h1",null,"News API"),r.a.createElement("img",{className:"flipImg",src:f.a,alt:"Movie Reels"})),r.a.createElement("h3",null,"Your source for online news in a single page...")))}}]),t}(r.a.Component),v=a(23),d=a.n(v),w=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).formatDate=e.formatDate.bind(Object(m.a)(e)),e.limitTextLength=e.limitTextLength.bind(Object(m.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"formatDate",value:function(e){var t=e.split("T"),a=t[0],n=t[1].split(":");return a+" @ "+n[0]+":"+n[1]}},{key:"limitTextLength",value:function(e){return e?(e.length>90&&(e=e.substring(0,90)+"..."),e):""}},{key:"render",value:function(){var e=this;return r.a.createElement("main",null,this.props.articles.map(function(t,a){return r.a.createElement("article",{key:a},r.a.createElement("a",{href:t.url},r.a.createElement("img",{className:"crow",src:d.a,alt:"Hover crow to fly to article."}),r.a.createElement("h3",null,e.limitTextLength(t.title)),null==t.urlToImage?null:r.a.createElement("div",{className:"imgContainer"},r.a.createElement("img",{className:"articleImg",src:t.urlToImage,alt:"Relevant to article"})),r.a.createElement("p",{className:"source"},t.source.name),r.a.createElement("p",{className:"author"},e.limitTextLength(t.author)),r.a.createElement("time",null,e.formatDate(t.publishedAt)),r.a.createElement("p",null,t.description)))}))}}]),t}(r.a.Component),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).props.getNews(),a.props.setURL(),a.props.setBurgerState(),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"getNews",value:function(e){e.preventDefault(),this.props.getNews(this.props.searchQuery,this.props.language)}},{key:"setURL",value:function(e,t){this.props.setURL(e,t)}},{key:"setBurgerState",value:function(){this.props.setBurgerState()}},{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:this.props.burgerState?"navClosed":"navOpen"},r.a.createElement("ul",null,r.a.createElement("div",{className:this.props.burgerState?"burger burgerClosed":"burger burgerOpen",onClick:function(){return e.setBurgerState()}},r.a.createElement("span",{className:"burgerLine Line1"}),r.a.createElement("span",{className:"burgerLine Line2"}),r.a.createElement("span",{className:"burgerLine Line3"})),r.a.createElement("div",{className:"mainNav"},r.a.createElement("li",null,r.a.createElement(p.b,{to:"/news",activeClassName:"active"},"Main")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/news/about",activeClassName:"active"},"About"))),r.a.createElement("li",null,r.a.createElement("form",{onSubmit:function(t){return e.getNews(t)}},r.a.createElement("input",{type:"sumbit",id:"search",name:"search",placeholder:this.props.searchQuery,onChange:function(t){return e.setURL("searchQuery",t.target.value)}}),r.a.createElement("button",{type:"button",htmlFor:"search",onClick:function(t){return e.getNews(t)}},"Search News"),r.a.createElement("select",{id:"language",value:this.props.language,onChange:function(t){return e.setURL("language",t.target.value)}},r.a.createElement("option",{value:"ar"},"ar"),r.a.createElement("option",{value:"de"},"de"),r.a.createElement("option",{value:"en"},"en"),r.a.createElement("option",{value:"es"},"es"),r.a.createElement("option",{value:"fr"},"fr"),r.a.createElement("option",{value:"he"},"he"),r.a.createElement("option",{value:"it"},"it"),r.a.createElement("option",{value:"nl"},"nl"),r.a.createElement("option",{value:"no"},"no"),r.a.createElement("option",{value:"pt"},"pt"),r.a.createElement("option",{value:"ru"},"ru"),r.a.createElement("option",{value:"se"},"se"),r.a.createElement("option",{value:"ud"},"ud"),r.a.createElement("option",{value:"zh"},"zh"))))))}}]),t}(r.a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement("div",{className:"thanks"},r.a.createElement("h3",null,"App by Steve Gilkes"),r.a.createElement("br",null),r.a.createElement("h4",null,"Thanks to ",r.a.createElement("a",{href:"https://newsapi.org"},"News API")," for the REST API that is the backend of this site..."),r.a.createElement("h4",null,"Banner image by ",r.a.createElement("a",{href:"https://unsplash.com/@aro_mal"},"Aromal M S")," on Unsplash"),r.a.createElement("h4",null,"Typewriter sidebar images by ",r.a.createElement("a",{href:"https://unsplash.com/@florianklauer"},"Florian Klauer")," on Unsplash"),r.a.createElement("h4",null,"Crow hover image by ",r.a.createElement("a",{href:"https://unsplash.com/@auntneecey"},"Denise Johnson")," on Unsplash"),r.a.createElement("h4",null,"Newspaper ico and title image by ",r.a.createElement("a",{href:"https://pixabay.com/vectors/newspaper-news-paper-journal-151438/"},"OpenClipart-Vectors")," on Pixabay")))}}]),t}(r.a.Component),O=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Thanks to ",r.a.createElement("a",{href:"https://newsapi.org"},"News API")," for the REST API that is the backend of this site."))}}]),t}(r.a.Component),j="c1e8a0f1855c4fcf814aef1091bd6c53",N="https://newsapi.org/v2/everything?sortBy=publishedAt&apiKey="+j+"&q=",S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={apiKey:j,articles:[],searchQuery:"today",language:"en",burgerState:!1},e.getNews=e.getNews.bind(Object(m.a)(e)),e.setCookie=e.setCookie.bind(Object(m.a)(e)),e.getCookie=e.getCookie.bind(Object(m.a)(e)),e.setURL=e.setURL.bind(Object(m.a)(e)),e.setBurgerState=e.setBurgerState.bind(Object(m.a)(e)),e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.getCookie("lastNewsSearch"),a=this.getCookie("language");null!==t&&"undefined"!==t?this.setState({searchQuery:t}):t=this.state.searchQuery,null!==a&&"undefined"!==a?this.setState({language:a}):a=this.state.language,this.getNews(t,a),window.addEventListener("resize",function(){return e.setState({burgerState:!0})})}},{key:"setBurgerState",value:function(){this.setState({burgerState:!this.state.burgerState})}},{key:"setURL",value:function(e,t){var a=this;switch(e){case"language":this.setState({language:t},function(){a.getNews(a.state.searchQuery,t)});break;case"searchQuery":this.setState({searchQuery:t});break;default:return!1}}},{key:"setCookie",value:function(e,t){var a=new Date;a.setTime(a.getTime()+864e8);var n="expires="+a.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"}},{key:"getCookie",value:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}},{key:"getNews",value:function(e,t,a){var n=this;fetch(N+e+"&language="+t).then(function(e){return e.json()}).then(function(e){n.setState({articles:e.articles})}).then(function(){n.setCookie("lastNewsSearch",e),n.setCookie("language",t)}).catch(function(e){alert(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement(E,null),r.a.createElement(y,{getNews:this.getNews,setURL:this.setURL,setBurgerState:this.setBurgerState,searchQuery:this.state.searchQuery,language:this.state.language,burgerState:this.state.burgerState}),r.a.createElement("div",{className:"routeContainer"},r.a.createElement("div",{className:"sideBannerLeft"}),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/news/about/",component:k}),r.a.createElement(g.b,{exact:!0,path:"/news/",render:function(t){return r.a.createElement(w,Object.assign({},t,{articles:e.state.articles,category:e.state.defaultCategory}))}}),r.a.createElement(g.a,{from:"/",to:"/news/"}),r.a.createElement(g.b,{path:"/*",component:k})),r.a.createElement("div",{className:"sideBannerRight"})),r.a.createElement(O,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.4d8df432.chunk.js.map